if [ $# -lt 1 ]; then
  echo "!!!Incomplete input!!!"
  echo "Usage: ./run.sh <input>"
  exit 1
fi
input=$1

echo "input file is $input"
echo "=================================================================================="
echo "Gen FT---Starts"
echo "=================================================================================="
#python ../fasttrie.py -f 'T(c*)\t(l:f *)\n' < $input > $input.ft
python ../fasttrie.py -f 'T(L)\t(l:f *)\n' < $input > $input.ft
echo "=================================================================================="
echo "Gen FT---Ends"
echo "=================================================================================="

echo "=================================================================================="
echo "Dump FT--Starts"
echo "=================================================================================="
#python ../fasttrie.py -f 'T,FT_TAIL|FT_PATH(c*)\t(l:f *)\n' $input.ft 
python ../fasttrie.py -f 'T,FT_TAIL|FT_PATH(L)\t(l:f *)\n' $input.ft 
echo "=================================================================================="
echo "Dump FT--Ends"
echo "=================================================================================="
